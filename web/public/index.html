<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendari Laboral Catalunya 2023</title>
    <link rel="stylesheet" href="app.css" />
  </head>
  <body>
    <script src="app.js" defer></script>
    <main class="container col-lg-4 mx-auto px-4">
      <h1 class="pt-5">Calendari laboral a Catalunya 2023</h1>

      <div class="px-4 py-4 mt-5 text-center mx-auto next" x-data>
        <p class="lead">La propera festa laboral a <span class="fw-bold" x-text="$store.holidays.currentPlace">Catalunya</span> és el</p>
        <h1 class="display-5 fw-bold">
          <span x-text="$store.holidays.next.localeDate"></span>
          <span class="next-week-day"
            >(<span x-text="$store.holidays.next.weekDay"></span>)</span
          >
        </h1>
        <p class="pt-2 mb-1">
          Falten <span x-text="$store.holidays.daysUntilNext"></span> dies
        </p>
      </div>

      <div class="container mt-3 mb-4 ps-0 text-start" x-data="search">
        <div>
          <div class="lead">
            Escull el teu municipi per incloure les festes locals:
          </div>
          <div class="mt-2 pe-0 text-start">
            <input id="search" autocomplete="off" class="form-control" />
          </div>
        </div>
        <div class="alert alert-danger alert-dismissible mt-2" role="alert" x-show="alertOpen" x-transition>
          Les festes locals d'aquesta localitat no estan disponibles :(
          <button type="button" class="btn-close" aria-label="Close" x-on:click="toggleAlert"></button>
        </div>
      </div>

      <table
        class="table"
        id="holidays"
        x-data="{holidays: $store.holidays.holidays}"
      >
        <thead>
          <tr>
            <th scope="col">Data</th>
            <th scope="col">Dia de la setmana</th>
            <th scope="col">Festa</th>
            <th scope="col">Àmbit</th>
          </tr>
        </thead>
        <tbody>
          <template
            id="holiday"
            x-for="holiday in holidays"
            :key="holiday.date"
          >
            <tr :class="{'past': holiday.past, 'new-holiday': holiday.scope === 'Local'}">
              <th scope="row" x-text="holiday.localeDate"></th>
              <td x-text="holiday.weekDay"></td>
              <td x-text="holiday.name"></td>
              <td x-text="holiday.scope"></td>
            </tr>
          </template>
        </tbody>
      </table>

      <div class="text-center"></div>

      <div class="px-4 py-3 my-5 text-center">
        <div class="col-lg-6 mx-auto">
          <p class="lead mb-4" x-data>
            Descarrega les festes laborals a <span x-text="$store.holidays.currentPlace">Catalunya</span> per afegir-les al teu calendari
            (Google Calendar, Iphone, Outlook, etc).
          </p>
          <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <button type="button" class="btn btn-success btn-lg px-4 gap-3">
              Descarrega calendari (iCal)
            </button>
          </div>
        </div>
      </div>
    </main>

    <script src="web_locals_2023.js"></script>
  </body>
</html>
